(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const u=document.getElementById("name"),a=document.getElementById("fullName"),o=document.getElementById("message"),f=document.querySelector(".btnGenerate"),h=document.querySelector("img"),m=document.querySelector("input"),p=document.querySelector(".btnAnswer"),g=document.querySelector(".message"),y=()=>Math.floor(Math.random()*563),i=n=>{n.classList.remove("invisible")},l=n=>{n.classList.add("invisible")};f.addEventListener("click",()=>{const n=y();l(g),l(u),l(a),m.value="",fetch("https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/all.json").then(t=>t.json()).then(t=>{const r=t[n];if(r)r.biography.fullName.length===0?a.innerHTML=`<strong>Fullname</strong>: ${r.name} <br> <strong>Alter Egos</strong>: ${r.biography.alterEgos}`:a.innerHTML=`<strong>Fullname</strong>: ${r.biography.fullName} <br> <strong>Alter Egos</strong>: ${r.biography.alterEgos} `,h.src=r.images.md,u.innerHTML=r.name,i(h),i(m);else throw new Error("Database error, click again")}).catch(t=>{o.innerHTML=t.message,i(g),o.classList.remove("invisible")})});p.addEventListener("click",()=>{o.innerHTML="",i(g),i(o);const n=m.value.toLowerCase();fetch("https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/all.json").then(t=>t.json()).then(t=>{const r=t.find(({name:c})=>c===u.innerText);(r.name.toLowerCase().includes(n)||r.biography.fullName.toLowerCase().includes(n))&&n.length>3?(l(m),o.innerHTML=' <img src="https://www.svgrepo.com/show/207509/checked-tick.svg" alt="correct" srcset="">Congratulations, you got it right!',i(u),i(a)):n.length<=2?o.innerHTML='<img src="https://www.svgrepo.com/show/207510/cancel.svg" alt="error" srcset=""> Enter at least 3 letters':o.innerHTML='<img src="https://www.svgrepo.com/show/207510/cancel.svg" alt="error" srcset=""> Sorry you made a mistake, please try again.'})});
