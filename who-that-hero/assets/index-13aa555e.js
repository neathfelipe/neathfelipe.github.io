(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function r(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(e){if(e.ep)return;e.ep=!0;const s=r(e);fetch(e.href,s)}})();const m=document.getElementById("name"),a=document.getElementById("fullName"),o=document.getElementById("message"),p=document.querySelector(".btnGenerate"),f=document.querySelector("img"),u=document.querySelector("input"),h=document.querySelector(".btnAnswer"),g=document.querySelector(".message"),y=()=>Math.floor(Math.random()*563),i=n=>{n.classList.remove("invisible")},l=n=>{n.classList.add("invisible")};p.addEventListener("click",()=>{const n=y();l(g),l(m),l(a),u.value="",fetch("https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/all.json").then(t=>t.json()).then(t=>{const r=t[n];if(r)r.biography.fullName.length===0?a.innerHTML=`<strong>Fullname</strong>: ${r.name}`:a.innerHTML=`<strong>Fullname</strong>: ${r.biography.fullName}`,f.src=r.images.md,m.innerHTML=r.name,i(f),i(u);else throw new Error("Database error, click again")}).catch(t=>{o.innerHTML=t.message,i(g),o.classList.remove("invisible")})});h.addEventListener("click",()=>{o.innerHTML="",i(g),i(o);const n=u.value.toLowerCase();fetch("https://cdn.jsdelivr.net/gh/akabab/superhero-api@0.3.0/api/all.json").then(t=>t.json()).then(t=>{const r=t.find(({name:c})=>c===m.innerText);(r.name.toLowerCase().includes(n)||r.biography.fullName.toLowerCase().includes(n))&&n.length>3?(l(u),o.innerHTML=' <img src="./src/images/checked-tick-svgrepo-com.svg" alt="correct" srcset="">Congratulations, you got it right!',i(m),i(a)):n.length<=3?o.innerHTML='<img src="./src/images/cancel-svgrepo-com.svg" alt="error" srcset=""> Enter at least 4 letters':o.innerHTML='<img src="./src/images/cancel-svgrepo-com.svg" alt="error" srcset=""> Sorry you made a mistake, please try again.'})});
